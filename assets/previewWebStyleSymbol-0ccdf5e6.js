import{ax as l,gr as n,gs as m}from"./index-71d9419a.js";import{t as u}from"./symbolUtils-ee2b9ea2.js";import"./colorUtils-c0f43caf.js";function b(e,i,t){const a=e.thumbnail&&e.thumbnail.url;return a?l(a,{responseType:"image"}).then(s=>{const h=d(s.data,t);return t&&t.node?(t.node.appendChild(h),t.node):h}):n(e).then(s=>s?i(s,t):null)}function d(e,i){const t=!/\\.svg$/i.test(e.src)&&i&&i.disableUpsampling,a=Math.max(e.width,e.height);let s=i&&i.maxSize!=null?m(i.maxSize):u.maxSize;t&&(s=Math.min(a,s));const h=typeof(i==null?void 0:i.size)=="number"?i==null?void 0:i.size:null,o=Math.min(s,h!=null?m(h):a);if(o!==a){const r=e.width!==0&&e.height!==0?e.width/e.height:1;r>=1?(e.width=o,e.height=o/r):(e.width=o*r,e.height=o)}return e}export{b as previewWebStyleSymbol};
