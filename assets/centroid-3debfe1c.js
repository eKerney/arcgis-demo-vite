import{bN as M,eq as g}from"./index-a4349970.js";function W(t,e,r){return Math.sqrt((t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]!==void 0&&e[2]!==void 0?(t[2]*r-e[2]*r)**2:0))}const l=[];for(const t of[[9002,56146130,6131,6132,8050,8051,8228],[9003,5702,6358,6359,6360,8052,8053],[9095,5754]]){const e=t[0];for(let r=1;r<t.length;r++)l[t[r]]=e}const u=[];function q(t){return t.vcsWkid&&l[t.vcsWkid]!==void 0?u[l[t.vcsWkid]]:t.latestVcsWkid&&l[t.latestVcsWkid]!==void 0?u[l[t.latestVcsWkid]]:1}function m(t,e,r){const o={x:0,y:0};e&&(o.z=0),r&&(o.m=0);let s=0,c=t[0];for(let a=0;a<t.length;a++){const n=t[a];if(Z(n,c)===!1){const f=p(c,n,e),h=P(c,n,e,r);h.x*=f,h.y*=f,o.x+=h.x,o.y+=h.y,e&&(h.z*=f,o.z+=h.z),r&&(h.m*=f,o.m+=h.m),s+=f,c=n}}return s>0?(o.x/=s,o.y/=s,e&&(o.z/=s),r&&(o.m/=s)):(o.x=t[0][0],o.y=t[0][1],e&&(o.z=t[0][2]),r&&e?o.m=t[0][3]:r&&(o.m=t[0][2])),o}function P(t,e,r,o){const s={x:(t[0]+e[0])/2,y:(t[1]+e[1])/2};return r&&(s.z=(t[2]+e[2])/2),r&&o?s.m=(t[3]+e[3])/2:o&&(s.m=(t[2]+e[2])/2),s}function I(t,e){if(t.length<=1)return 0;let r=0;for(let o=1;o<t.length;o++)r+=p(t[o-1],t[o],e);return r}function p(t,e,r){const o=e[0]-t[0],s=e[1]-t[1];if(r){const c=e[2]-e[2];return Math.sqrt(o*o+s*s+c*c)}return Math.sqrt(o*o+s*s)}function Z(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function N(t){const e={x:0,y:0,spatialReference:t.spatialReference.toJSON()},r={x:0,y:0,spatialReference:t.spatialReference.toJSON()};let o=0,s=0;for(let c=0;c<t.paths.length;c++){if(t.paths[c].length===0)continue;const a=I(t.paths[c],t.hasZ===!0);if(a===0){const n=m(t.paths[c],t.hasZ===!0,t.hasM===!0);e.x+=n.x,e.y+=n.y,t.hasZ===!0&&(e.z+=n.z),t.hasM===!0&&(e.m+=n.m),++o}else{const n=m(t.paths[c],t.hasZ===!0,t.hasM===!0);r.x+=n.x*a,r.y+=n.y*a,t.hasZ===!0&&(r.z+=n.z*a),t.hasM===!0&&(r.m+=n.m*a),s+=a}}return s>0?(r.x/=s,r.y/=s,t.hasZ===!0&&(r.z/=s),t.hasM===!0&&(r.m/=s),new M(r)):o>0?(e.x/=o,e.y/=o,t.hasZ===!0&&(r.z/=o),t.hasM===!0&&(e.m/=o),new M(e)):null}function w(t){if(t.points.length===0)return null;let e=0,r=0,o=0,s=0;for(let a=0;a<t.points.length;a++){const n=t.getPoint(a);n.hasZ===!0&&(o+=n.z),n.hasM===!0&&(s+=n.m),e+=n.x,r+=n.y,s+=n.m}const c={x:e/t.points.length,y:r/t.points.length,spatialReference:null};return c.spatialReference=t.spatialReference.toJSON(),t.hasZ===!0&&(c.z=o/t.points.length),t.hasM===!0&&(c.m=s/t.points.length),new M(c)}function v(t,e){return t.x*e.x+t.y*e.y}function R(t,e){return t.x*e.y-e.x*t.y}function x(t,e,r=0){for(;t<r;)t+=e;const o=r+e;for(;t>=o;)t-=e;return t}function z(t,e){return Math.atan2(e.y-t.y,e.x-t.x)}function J(t,e){return x(z(t,e),2*Math.PI)*(180/Math.PI)}function O(t,e){return x(Math.PI/2-z(t,e),2*Math.PI)*(180/Math.PI)}function d(t,e,r){const o={x:t.x-e.x,y:t.y-e.y},s={x:r.x-e.x,y:r.y-e.y};return Math.atan2(R(o,s),v(o,s))}function S(t,e,r){return x(d(t,e,r),2*Math.PI)*(180/Math.PI)}function V(t,e,r){return x(-1*d(t,e,r),2*Math.PI)*(180/Math.PI)}u[9002]=.3048,u[9003]=.3048006096012192,u[9095]=.3048007491;const i=[0,0];function b(t){for(let e=0;e<t.length;e++){const r=t[e];for(let s=0;s<r.length-1;s++){const c=r[s],a=r[s+1];for(let n=e+1;n<t.length;n++)for(let f=0;f<t[n].length-1;f++){const h=t[n][f],y=t[n][f+1];if(g(c,a,h,y,i)&&!(i[0]===c[0]&&i[1]===c[1]||i[0]===h[0]&&i[1]===h[1]||i[0]===a[0]&&i[1]===a[1]||i[0]===y[0]&&i[1]===y[1]))return!0}}const o=r.length;if(!(o<3))for(let s=0;s<=o-2;s++){const c=r[s],a=r[s+1];for(let n=s+2;n<=o-2;n++){const f=r[n],h=r[n+1];if(g(c,a,f,h,i)&&!(i[0]===c[0]&&i[1]===c[1]||i[0]===f[0]&&i[1]===f[1]||i[0]===a[0]&&i[1]===a[1]||i[0]===h[0]&&i[1]===h[1]))return!0}}}return!1}export{O as M,S as P,b as Z,V as d,W as e,N as l,J as p,q as s,w as u};
